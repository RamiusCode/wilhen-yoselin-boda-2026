---
// InvitacionNosotros.astro
---

<section class="relative w-full  justify-center py-16 px-6">
    
    <div class="max-w-2xl w-full" id="contenedor-invitacion">
        
        <!-- NOSOTROS -->
        <div class="text-center mb-8" id="titulo-nosotros">
            <h3 class="font-sans text-sm md:text-base text-gray-800 tracking-[0.3em] uppercase">
                NOSOTROS
            </h3>
        </div>

        <!-- NOMBRES -->
        <div class="text-center mb-8" id="nombres-pareja">
            <h1 class="font-great-vibes text-5xl md:text-6xl lg:text-7xl text-gray-700 mb-2">
                Wilhen
            </h1>
            <p class="font-great-vibes text-3xl md:text-4xl text-gray-600 my-3">
                &
            </p>
            <h1 class="font-great-vibes text-5xl md:text-6xl lg:text-7xl text-gray-700">
                Yoselin
            </h1>
        </div>

        <!-- TEXTO INVITACI√ìN -->
        <div class="text-center mb-8 px-4" id="texto-invitacion">
            <p class="font-serif text-sm md:text-base text-gray-700 leading-relaxed">
                Te invitamos a celebrar el d√≠a m√°s especial de nuestras vidas
            </p>
        </div>
              <!-- NOSOTROS -->
        <!-- <div class="text-center " id="titulo-nosotros">
            <h3 class="font-sans text-sm md:text-base text-gray-800 tracking-[0.3em] uppercase">
                2026
            </h3>
        </div> -->

        <!-- FECHA -->
        <div class="flex items-center justify-center gap-4 mb-10" id="fecha-boda">
            <div class="text-center">
                <p class="font-sans text-sm md:text-base text-gray-700 uppercase tracking-wide">
                    S√°bado
                </p>
            </div>
            
            <div class="w-px h-12 bg-gray-400"></div>
            
            <div class="text-center">
                <p class="font-sans text-5xl md:text-6xl text-gray-800 font-light">
                    31
                </p>
            </div>
            
            <div class="w-px h-12 bg-gray-400"></div>
            
            <div class="text-center">
                <p class="font-sans text-sm md:text-base text-gray-700 uppercase tracking-wide">
                    Enero
                </p>
            </div>
        </div>
   

        <!-- CUENTA REGRESIVA - ESTILO COMPACTO -->
        <div class="relative max-w-md mx-auto" id="cuenta-regresiva">
            
            <!-- Etiqueta "Faltan" arriba centrada -->
            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 z-10" id="texto-faltan">
                <div class="bg-gray-600 text-white px-6 py-1.5 rounded-full shadow-md">
                    <p class="font-sans text-xs tracking-wide">
                        Faltan
                    </p>
                </div>
            </div>

            <!-- Contenedor principal con borde -->
            <div class="bg-white border-2 border-gray-400 rounded-2xl pt-6 pb-4 px-6 shadow-sm">
                <div class="grid grid-cols-4 gap-3">
                    
                    <!-- D√çAS -->
                    <div class="text-center">
                        <p id="dias" class="font-sans text-3xl md:text-4xl text-gray-800 font-light mb-1">
                            00
                        </p>
                        <p class="font-sans text-[10px] md:text-xs text-gray-600 uppercase tracking-wide">
                            D√≠as
                        </p>
                    </div>

                    <!-- HORAS -->
                    <div class="text-center">
                        <p id="horas" class="font-sans text-3xl md:text-4xl text-gray-800 font-light mb-1">
                            00
                        </p>
                        <p class="font-sans text-[10px] md:text-xs text-gray-600 uppercase tracking-wide">
                            Hrs
                        </p>
                    </div>

                    <!-- MINUTOS -->
                    <div class="text-center">
                        <p id="minutos" class="font-sans text-3xl md:text-4xl text-gray-800 font-light mb-1">
                            00
                        </p>
                        <p class="font-sans text-[10px] md:text-xs text-gray-600 uppercase tracking-wide">
                            Mins
                        </p>
                    </div>

                    <!-- SEGUNDOS -->
                    <div class="text-center">
                        <p id="segundos" class="font-sans text-3xl md:text-4xl text-gray-800 font-light mb-1">
                            00
                        </p>
                        <p class="font-sans text-[10px] md:text-xs text-gray-600 uppercase tracking-wide">
                            Segs
                        </p>
                    </div>

                </div>
            </div>

        </div>

    </div>

</section>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- üé¨ ANIMACIONES CON GSAP Y CUENTA REGRESIVA                  -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    document.addEventListener("DOMContentLoaded", () => {
        console.log("üíç Iniciando invitaci√≥n con cuenta regresiva...");

        // ‚ïê‚ïê‚ïê ESTADO INICIAL ‚ïê‚ïê‚ïê
        gsap.set("#titulo-nosotros", { opacity: 0, y: -20 });
        gsap.set("#nombres-pareja", { opacity: 0, scale: 0.9 });
        gsap.set("#texto-invitacion", { opacity: 0, y: 20 });
        gsap.set("#fecha-boda", { opacity: 0, y: 20 });
        gsap.set("#cuenta-regresiva", { opacity: 0, y: 30 });

        // ‚ïê‚ïê‚ïê ANIMACI√ìN EN CASCADA ‚ïê‚ïê‚ïê
        ScrollTrigger.create({
            trigger: "#contenedor-invitacion",
            start: "top 80%",
            onEnter: () => {
                const tl = gsap.timeline();

                tl.to("#titulo-nosotros", {
                    opacity: 1,
                    y: 0,
                    duration: 0.5,
                    ease: "power2.out",
                })
                .to("#nombres-pareja", {
                    opacity: 1,
                    scale: 1,
                    duration: 0.6,
                    ease: "back.out(1.3)",
                }, "-=0.2")
                .to("#texto-invitacion", {
                    opacity: 1,
                    y: 0,
                    duration: 0.5,
                    ease: "power2.out",
                }, "-=0.2")
                .to("#fecha-boda", {
                    opacity: 1,
                    y: 0,
                    duration: 0.5,
                    ease: "power2.out",
                }, "-=0.2")
                .to("#cuenta-regresiva", {
                    opacity: 1,
                    y: 0,
                    duration: 0.6,
                    ease: "back.out(1.2)",
                }, "-=0.2");
            },
            onLeaveBack: () => {
                gsap.set("#titulo-nosotros", { opacity: 0, y: -20 });
                gsap.set("#nombres-pareja", { opacity: 0, scale: 0.9 });
                gsap.set("#texto-invitacion", { opacity: 0, y: 20 });
                gsap.set("#fecha-boda", { opacity: 0, y: 20 });
                gsap.set("#cuenta-regresiva", { opacity: 0, y: 30 });
            },
        });

        // ‚ïê‚ïê‚ïê ACTIVAR SI YA EST√Å VISIBLE ‚ïê‚ïê‚ïê
        ScrollTrigger.refresh();
        const triggerElement = document.querySelector("#contenedor-invitacion");
        if (triggerElement) {
            const rect = triggerElement.getBoundingClientRect();
            const isInView = rect.top < window.innerHeight * 0.8;
            
            if (isInView) {
                const tl = gsap.timeline();
                tl.to("#titulo-nosotros", { opacity: 1, y: 0, duration: 0.5 })
                .to("#nombres-pareja", { opacity: 1, scale: 1, duration: 0.6 }, "-=0.2")
                .to("#texto-invitacion", { opacity: 1, y: 0, duration: 0.5 }, "-=0.2")
                .to("#fecha-boda", { opacity: 1, y: 0, duration: 0.5 }, "-=0.2")
                .to("#cuenta-regresiva", { opacity: 1, y: 0, duration: 0.6 }, "-=0.2");
            }
        }

        // ‚ïê‚ïê‚ïê CUENTA REGRESIVA ‚ïê‚ïê‚ïê
        // Fecha: S√°bado 31 de Enero de 2026 a las 17:00
        const fechaBoda = new Date(2026, 0, 31, 17, 0, 0).getTime(); // Mes 0 = Enero

        function actualizarCuentaRegresiva() {
            const ahora = new Date().getTime();
            const diferencia = fechaBoda - ahora;

            if (diferencia > 0) {
                const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
                const horas = Math.floor((diferencia % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutos = Math.floor((diferencia % (1000 * 60 * 60)) / (1000 * 60));
                const segundos = Math.floor((diferencia % (1000 * 60)) / 1000);

                document.getElementById("dias")!.textContent = dias.toString().padStart(2, "0");
                document.getElementById("horas")!.textContent = horas.toString().padStart(2, "0");
                document.getElementById("minutos")!.textContent = minutos.toString().padStart(2, "0");
                document.getElementById("segundos")!.textContent = segundos.toString().padStart(2, "0");
            } else {
                document.getElementById("dias")!.textContent = "00";
                document.getElementById("horas")!.textContent = "00";
                document.getElementById("minutos")!.textContent = "00";
                document.getElementById("segundos")!.textContent = "00";
            }
        }

        // Actualizar cada segundo
        actualizarCuentaRegresiva();
        setInterval(actualizarCuentaRegresiva, 1000);

        console.log("üíç‚ú® Invitaci√≥n activada con cuenta regresiva!");
    });
</script>

<style>
    @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap');

    .font-great-vibes {
        font-family: 'Great Vibes', cursive;
    }
</style>